"""""""""""""""""""
" ViM in Firefox! "
"""""""""""""""""""

" default search/suggest engine: google
set defsearch=google
set suggestengines=google

" show tabbar only
set gui=none,tabs,addons

" don't animate tab-bar when switch to fullscreen
set! browser.fullscreen.animateUp=0

" activate spell-check textarea/input
set! layout.spellcheckDefault=2

" mappings
" clear all key mappings
" to avoid troubles from loading rc file several times
mapclear
cmapclear
imapclear

" tab operation
noremap <C-h> gT
noremap <C-l> gt
noremap <C-p> :tabmove! -1<CR>
noremap <C-n> :tabmove! +1<CR>

" better safe than sorry
inoremap <C-h> <BS>

" hide close buttons
set! browser.tabs.closeButtons=2

" Use letter-based hints (smart ordering)
set hintchars=hjklasdfgyuiopqwertnmzxcvb

" Hide the dotted line at the bottom
highlight ContentSeparator display: none;

" Set the smooth scrolling amount
let g:smooziee_scroll_amount="250"

" Autohide statusbar
noremap : :js toggle_bottombar(true)<CR>:
noremap ; :js toggle_bottombar(true)<CR>;
noremap o :js toggle_bottombar(true)<CR>o
noremap O :js toggle_bottombar(true)<CR>O
noremap t :js toggle_bottombar(true)<CR>t
noremap T :js toggle_bottombar(true)<CR>t
noremap / :js toggle_bottombar(true)<CR>/
noremap v :js toggle_bottombar(true)<CR>v
noremap V :js toggle_bottombar(true)<CR>V
noremap c :js toggle_bottombar(true)<CR>c
noremap C :js toggle_bottombar(true)<CR>C
vnoremap <CR>  <CR>:js  toggle_bottombar(false)<CR>
cnoremap <CR>  <CR>:js  toggle_bottombar(false)<CR>
vnoremap <Esc> <Esc>:js toggle_bottombar(false)<CR>
noremap  <Esc> :js      toggle_bottombar(false)<CR><Esc>

:js << EOF
window.toggle_bottombar = function(show) {
    var bb = document.getElementById("liberator-bottombar");
    if (bb) {
        if (show === undefined) {
            show = bb.style.height == "0px";
        }
        if (show) {
            bb.style.height = "";
            bb.style.overflow = "";
        } else {
            bb.style.height = "0px";
            bb.style.overflow = "hidden";
        }
    }
};
toggle_bottombar(false);
EOF

" Who wants the shift key?
map ; :

" Symmetric keyboard zooming
map = zi
map - zo

" Style the hints
highlight clear Hint
highlight Hint -append font-size:14px;
highlight Hint -append border-radius:2px;
highlight Hint -append padding-left:3px;
highlight Hint -append padding-right:4px;
highlight Hint -append background-color:#5294e2;

